@(title: String = "GitXplore")

@content = {
  <div id="title">git<span>[x]</span>plore</div>
  <div id="repoinfos">
    <h5 id="reponame"></h5>
    <ul class="ink-tree-view" id="historyList"></ul>
  </div>
  
  <script type="text/template" id="historyTemplate">
    <% for (var contributor in repoHistory) { %>
      <li><span class="open"></span><a href="#"><%= contributor %></a>
      <ul>
    <%
      var commits = repoHistory[contributor];
      _.each(commits, function(commit) { %>
          <li><p class="date"><%= commit["date"] %></p> <a href="<%= commit["url"] %>" target="_blank"><%= commit["message"] %></a></li>
      <% }); %>
      </li></ul>
    <% } %>
    </ul>
  </script>
}

@scriptsimport = {
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js" type="text/javascript"></script>
  <script src="@routes.Assets.at("javascripts/repo.gitxplore.backbone.js")" type="text/javascript"></script>
}

@jquery = {
  Ink.requireModules( ['Ink.UI.TreeView_1'], function(TreeView){
    new TreeView( '.ink-tree-view' );
  });
}

@main(title)(content, scriptsimport, jquery)
